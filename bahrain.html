<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>F1 Race Result - 2025</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background: linear-gradient(to bottom, #492833, #ffffff);
            min-height: 100vh;
        }
        .footer {
            background-color: #492833;
            color: white;
            text-align: center;
            padding: 2rem 1rem;
        }
        #mobile-menu {
            max-height: 0;
            opacity: 0;
            overflow: hidden;
            transition: max-height 0.5s ease-in-out, opacity 0.5s ease-in-out;
            position: absolute;
            width: 100%;
            left: 0;
            top: 100%;
            background-color: #492833;
        }
        #mobile-menu.menu-open {
            max-height: 25rem;
            opacity: 1;
        }
        #desktop-menu-items {
            position: relative;
        }
        #sliding-highlighter {
            position: absolute;
            top: 0;
            left: 0;
            width: 0;
            height: 100%;
            background-color: #492833;
            border-radius: 0.375rem;
            transition: left 0.3s ease-in-out, width 0.3s ease-in-out;
            z-index: -1;
        }
        .hamburger-icon span {
            display: block;
            width: 24px;
            height: 2px;
            background-color: white;
            transition: all 0.3s cubic-bezier(.08,.82,.17,1);
        }
        #mobile-menu-button.open .hamburger-icon span:nth-child(1) {
            transform: translateY(6px) rotate(45deg);
        }
        #mobile-menu-button.open .hamburger-icon span:nth-child(2) {
            opacity: 0;
        }
        #mobile-menu-button.open .hamburger-icon span:nth-child(3) {
            transform: translateY(-6px) rotate(-45deg);
        }
        .race-table th {
            background-color: #f3f4f6;
            color: #1f2937;
            padding: 0.75rem 1rem;
            text-align: left;
            font-weight: 600;
            font-size: 0.875rem;
            border-bottom: 1px solid #d1d5db;
        }
        .race-table td {
            padding: 0.75rem 1rem;
            color: #374151;
            border-bottom: 1px solid #e5e7eb;
        }
        .race-table tr:nth-child(even) {
            background-color: #f9fafb;
        }
        .race-table tr:nth-child(odd) {
            background-color: #ffffff;
        }
        .race-table tr:hover {
            background-color: #e5e7eb;
        }
        .race-table .pos-number {
            color: #492833;
        }
        /* Custom styles for the toggle buttons */
        .toggle-button-container {
            position: relative;
            background-color: #e5e7eb; /* Light gray background for the container */
            border-radius: 9999px; /* rounded-full */
            padding: 4px; /* p-1 equivalent */
        }
        .toggle-button {
            position: relative; /* Ensure buttons are positioned relative to container */
            z-index: 1; /* Place text above the slider */
            color: #492833; /* Default text color */
            padding-left: 1rem; /* px-4 equivalent */
            padding-right: 1rem; /* px-4 equivalent */
            padding-top: 0.5rem; /* py-2 equivalent */
            padding-bottom: 0.5rem; /* py-2 equivalent */
            border-radius: 9999px; /* rounded-full */
            font-size: 0.875rem; /* text-sm */
            font-weight: 500; /* font-medium */
            transition: color 0.3s ease-in-out; /* Smooth text color transition */
            background-color: transparent; /* No direct background on button */
        }
        .toggle-button.active {
            color: white; /* Active text color */
        }
        #toggle-slider {
            position: absolute;
            top: 4px; /* Adjust based on padding of container */
            left: 4px; /* Adjust based on padding of container */
            height: calc(100% - 8px); /* Adjust based on padding of container */
            width: 50%; /* Will be set dynamically by JS for smooth slide */
            background-color: #492833;
            border-radius: 9999px; /* rounded-full */
            transition: left 0.3s ease-in-out; /* Smooth sliding transition */
            box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06);
        }
    </style>
</head>
<body class="font-medium">

    <!-- Header section with navigation -->
    <header class="bg-black/70 backdrop-blur-sm sticky top-0 z-50 shadow-lg">
        <nav class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex items-center justify-between h-20">
                <div class="flex-shrink-0">
                    <a href="latest.html">
                        <img src="https://cdn.discordapp.com/attachments/1283851662678556756/1385758517608321129/10c.png?ex=68573bb0&is=6855ea30&hm=1cf947d3f5bd6fed88d1fa4f0f89f0e003846df2d560644f398e68dde9a1cee2&" alt="F1 75 Logo" class="h-10">
                    </a>
                </div>

                <!-- Desktop navigation items -->
                <div id="desktop-menu-items" class="hidden md:flex items-center space-x-4">
                    <div id="sliding-highlighter"></div>
                    <a href="latest.html" class="text-gray-300 hover:text-white px-3 py-2 rounded-md text-sm font-medium relative z-10">Latest</a>
                    <a href="schedule.html" class="text-gray-300 hover:text-white px-3 py-2 rounded-md text-sm font-medium relative z-10">Schedule</a>
                    <a href="standings.html" class="text-gray-300 hover:text-white px-3 py-2 rounded-md text-sm font-medium relative z-10">Standings</a>
                    <a href="teams.html" class="text-gray-300 hover:text-white px-3 py-2 rounded-md text-sm font-medium relative z-10">Teams</a>
                    <a href="https://discord.gg/khYF6xE5rq" target="_blank" rel="noopener noreferrer" class="text-gray-300 hover:text-white px-3 py-2 rounded-md text-sm font-medium relative z-10">Join Now</a>
                </div>

                <!-- Mobile menu button (hamburger icon) -->
                <div class="-mr-2 flex md:hidden">
                    <button type="button" id="mobile-menu-button" class="inline-flex items-center justify-center p-2 rounded-md text-white focus:outline-none" style="background-color: #492833; hover-bg-color: #3a2029;">
                        <span class="sr-only">Open main menu</span>
                        <div class="hamburger-icon space-y-1.5">
                            <span></span>
                            <span></span>
                            <span></span>
                        </div>
                    </button>
                </div>
            </div>
        </nav>
        <!-- Mobile menu content, toggled by JS -->
        <div class="md:hidden" id="mobile-menu">
            <div class="px-2 pt-2 pb-3 space-y-1">
                <a href="latest.html" class="text-white block px-3 py-2 rounded-md text-base font-medium" style="--tw-bg-opacity: 1; background-color: rgba(73, 40, 51, var(--tw-bg-opacity));">Latest</a>
                <a href="schedule.html" class="text-white block px-3 py-2 rounded-md text-base font-medium" style="--tw-bg-opacity: 1; background-color: rgba(73, 40, 51, var(--tw-bg-opacity));">Schedule</a>
                <a href="standings.html" class="text-white block px-3 py-2 rounded-md text-base font-medium" style="--tw-bg-opacity: 1; background-color: rgba(73, 40, 51, var(--tw-bg-opacity));">Standings</a>
                <a href="teams.html" class="text-white block px-3 py-2 rounded-md text-base font-medium" style="--tw-bg-opacity: 1; background-color: rgba(73, 40, 51, var(--tw-bg-opacity));">Teams</a>
                <a href="https://discord.gg/khYF6xE5rq" target="_blank" rel="noopener noreferrer" class="text-white block px-3 py-2 rounded-md text-base font-medium" style="--tw-bg-opacity: 1; background-color: rgba(73, 40, 51, var(--tw-bg-opacity));">Join Now</a>
            </div>
        </div>
    </header>

    <!-- Sub-header displaying upcoming race info and time -->
    <div id="sub-header" class="bg-black text-white h-12 transition-opacity duration-300">
        <div class="max-w-7xl mx-auto px-2 sm:px-6 lg:px-8 flex items-center justify-between h-full">
            <div class="flex items-center space-x-2 sm:space-x-4">
                <div id="upcoming-race-info" class="text-xs sm:text-sm font-semibold truncate">
                    <!-- Upcoming race info populated by JavaScript -->
                </div>
                <div id="upcoming-race-date" class="text-xs bg-gray-700/50 px-2 py-1 rounded-md hidden sm:block">
                    <!-- Upcoming race date populated by JavaScript -->
                </div>
            </div>
            <div class="flex items-center space-x-2 sm:space-x-3 flex-shrink-0">
                <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/d/de/TAG_Heuer_Logo.svg/1200px-TAG_Heuer_Logo.svg.png" alt="TAG Heuer Logo" class="h-6 sm:h-8 w-auto">
                <div class="text-right text-xs sm:text-sm">
                   <p id="client-time" class="font-bold"></p>
                   <p id="race-time" class="text-gray-300"></p>
               </div>
           </div>
        </div>
    </div>

    <!-- Main Content Area - Race Result Page Layout -->
    <main class="relative max-w-7xl mx-auto p-4 sm:p-6 lg:p-8">
        <div class="flex items-center justify-between mb-6">
            <h1 id="main-title" class="text-2xl sm:text-3xl font-bold text-white">BAHRAIN GRAND PRIX - <br class="sm:hidden">RACE RESULT</h1>
        </div>
        <p class="text-sm text-white mb-8">JUNE 13TH | BAHRAIN INTERNATIONAL CIRCUIT, SAKHIR</p>

        <!-- Race/Qualifying Toggle Button -->
        <div class="flex justify-end mb-4">
            <div class="toggle-button-container inline-flex">
                <div id="toggle-slider"></div>
                <button id="race-button" class="toggle-button">RACE</button>
                <button id="qualifying-button" class="toggle-button">QUALIFYING</button>
            </div>
        </div>

        <!-- Race Result Table -->
        <div class="overflow-x-auto rounded-lg shadow-lg">
            <table class="min-w-full divide-y divide-gray-700 race-table">
                <thead>
                    <tr>
                        <!-- Headers will be dynamically injected by JavaScript -->
                    </tr>
                </thead>
                <tbody>
                    <!-- Rows will be dynamically injected by JavaScript -->
                </tbody>
            </table>
        </div>
    </main>

    <!-- Footer for social media links -->
    <footer class="bg-gray-800 text-white text-center py-5 px-2 mt-8">
        <div class="max-w-7xl mx-auto flex justify-center items-center space-x-6">
            <a href="https://www.twitch.tv/10controls" target="_blank" rel="noopener noreferrer" class="text-gray-400 hover:text-white transition-colors" aria-label="Twitch"><i class="fab fa-twitch fa-lg"></i></a>
            <a href="https://www.instagram.com/10controls/" target="_blank" rel="noopener noreferrer" class="text-gray-400 hover:text-white transition-colors" aria-label="Instagram"><i class="fab fa-instagram fa-lg"></i></a>
            <a href="https://www.youtube.com/@10controls24" target="_blank" rel="noopener noreferrer" class="text-gray-400 hover:text-white transition-colors" aria-label="YouTube"><i class="fab fa-youtube fa-lg"></i></a>
            <a href="https://discord.gg/khYF6xE5rq" target="_blank" rel="noopener noreferrer" class="class="text-gray-400 hover:text-white transition-colors" aria-label="Discord"><i class="fab fa-discord fa-lg"></i></a>
        </div>
    </footer>
    
    <!-- Copyright footer -->
    <footer class="footer">
        <p>Â© 2003-2025 Formula One World Championship Limited</p>
    </footer>
    
    <script>
        // Schedule data for upcoming races. This data is used by the sub-header.
        const scheduleData = [
            { round: 1, name: 'Australian Grand Prix', venue: 'Melbourne', date: 'March 14-16', winner: 'Lando Norris', country: 'AU' },
            { round: 2, name: 'Chinese Grand Prix', venue: 'Shanghai', date: 'March 21-23', winner: 'Oscar Piastri', country: 'CN' },
            { round: 3, name: 'Japanese Grand Prix', venue: 'Suzuka', date: 'April 4-6', winner: 'Max Verstappen', country: 'JP' },
            { round: 4, name: 'Bahrain Grand Prix', venue: 'Sakhir', date: 'April 11-13', winner: 'Oscar Piastri', country: 'BH' },
            { round: 5, name: 'Saudi Arabian Grand Prix', venue: 'Jeddah', date: 'April 18-20', winner: 'Oscar Piastri', country: 'SA' },
            { round: 6, name: 'Miami Grand Prix', venue: 'Miami', date: 'May 2-4', winner: 'Oscar Piastri', country: 'USA' },
            { round: 7, name: 'Emilia Romagna Grand Prix', venue: 'Imola', date: 'May 16-18', winner: 'Max Verstappen', country: 'IT' },
            { round: 8, name: 'Monaco Grand Prix', venue: 'Monaco', date: 'May 23-25', winner: 'Lando Norris', country: 'MC' },
            { round: 9, name: 'Spanish Grand Prix', venue: 'Barcelona', date: 'May 30 - June 1', winner: 'Oscar Piastri', country: 'ES' },
            { round: 10, name: 'Canadian Grand Prix', venue: 'Montreal', date: 'June 13-15', winner: 'George Russell', country: 'CA' },
            { round: 11, name: 'Austrian Grand Prix', venue: 'Spielberg', date: 'June 27-29', country: 'AT' },
            { round: 12, name: 'British Grand Prix', venue: 'Silverstone', date: 'July 4-6', country: 'GB' },
            { round: 13, name: 'Belgian Grand Prix', venue: 'Spa', date: 'July 25-27', country: 'BE' },
            { round: 14, name: 'Hungarian Grand Prix', venue: 'Budapest', date: 'August 1-3', country: 'HU' },
            { round: 15, name: 'Dutch Grand Prix', venue: 'Zandvoort', date: 'August 29-31', country: 'NL' },
            { round: 16, name: 'Italian Grand Prix', venue: 'Monza', date: 'September 5-7', country: 'IT' },
            { round: 17, name: 'Azerbaijan Grand Prix', venue: 'Baku', date: 'September 19-21', country: 'AZ' },
            { pos: 18, name: 'Singapore Grand Prix', venue: 'Singapore', date: 'October 3-5', country: 'SG' },
            { pos: 19, name: 'United States Grand Prix', venue: 'Austin', date: 'October 17-19', country: 'USA' },
            { pos: 20, name: 'Mexican Grand Prix', venue: 'Mexico City', date: 'October 24-26', country: 'MX' },
            { pos: 21, name: 'Brazilian Grand Prix', date: 'November 7-9', country: 'BR' },
            { pos: 22, name: 'Las Vegas Grand Prix', venue: 'Las Vegas', date: 'November 20-22', country: 'USA' },
            { pos: 23, name: 'Qatar Grand Prix', venue: 'Lusail', date: 'November 28-30', country: 'QAT' },
            { pos: 24, name: 'Abu Dhabi Grand Prix', venue: 'Yas Marina', date: 'December 5-7', country: 'AE' }
        ];

        // Mapping of venues to their respective time zones for accurate time display.
        const timeZoneMap = {
            'Melbourne': 'Australia/Melbourne',
            'Shanghai': 'Asia/Shanghai',
            'Suzuka': 'Asia/Tokyo',
            'Sakhir': 'Asia/Bahrain',
            'Jeddah': 'Asia/Riyadh',
            'Miami': 'America/New_York',
            'Imola': 'Europe/Rome',
            'Monaco': 'Europe/Monaco',
            'Barcelona': 'Europe/Madrid',
            'Montreal': 'America/Toronto',
            'Spielberg': 'Europe/Vienna',
            'Silverstone': 'Europe/London',
            'Spa': 'Europe/Brussels',
            'Budapest': 'Europe/Budapest',
            'Zandvoort': 'Europe/Amsterdam',
            'Monza': 'Europe/Rome',
            'Baku': 'Asia/Baku',
            'Singapore': 'Asia/Singapore',
            'Austin': 'America/Chicago',
            'Mexico City': 'America/Mexico_City',
            'Sao Paulo': 'America/Sao_Paulo',
            'Las Vegas': 'America/Los_Angeles',
            'Lusail': 'Asia/Qatar',
            'Yas Marina': 'Asia/Dubai'
        };
        
        window.onload = function() {
            // --- Mobile menu toggle script ---
            const mobileMenuButton = document.getElementById('mobile-menu-button');
            const mobileMenu = document.getElementById('mobile-menu');
            const subHeader = document.getElementById('sub-header');

            mobileMenuButton.addEventListener('click', () => {
                mobileMenu.classList.toggle('menu-open');
                mobileMenuButton.classList.toggle('open');
                subHeader.classList.toggle('opacity-0');
                subHeader.classList.toggle('pointer-events-none');
            });
            
            // --- Sliding highlighter script for desktop navigation ---
            const menuItemsContainer = document.getElementById('desktop-menu-items');
            if (menuItemsContainer) {
                const menuLinks = menuItemsContainer.querySelectorAll('a');
                const highlighter = document.getElementById('sliding-highlighter');
                const activeLink = menuItemsContainer.querySelector('a[href="schedule.html"]');

                function setHighlighterToLink(link) {
                    if (!link) {
                        highlighter.style.width = '0px';
                        return;
                    }
                    highlighter.style.left = `${link.offsetLeft}px`;
                    highlighter.style.width = `${link.offsetWidth}px`;
                }
                setHighlighterToLink(activeLink);
                menuLinks.forEach(link => {
                    link.addEventListener('mouseenter', () => setHighlighterToLink(link));
                });
                menuItemsContainer.addEventListener('mouseleave', () => {
                    setHighlighterToLink(activeLink);
                });
            }

            // --- Hardcoded upcoming race information for this page ---
            const upcomingRaceInfoEl = document.getElementById('upcoming-race-info');
            const upcomingRaceDateEl = document.getElementById('upcoming-race-date');
            const clientTimeEl = document.getElementById('client-time');
            const raceTimeEl = document.getElementById('race-time');
            const timeOptions = { hour: '2-digit', minute: '2-digit', hour12: false };

            upcomingRaceInfoEl.textContent = `UPCOMING: EMILIA ROMAGNA GRAND PRIX`;
            upcomingRaceDateEl.textContent = `JUNE 27TH`;
            const raceTimeZone = 'Europe/Rome';

            function updateTimes() {
                const currentTime = new Date();
                clientTimeEl.textContent = `MY TIME: ${currentTime.toLocaleTimeString([], timeOptions)}`;
                if (raceTimeZone) {
                    raceTimeEl.textContent = `TRACK TIME: ${currentTime.toLocaleTimeString([], { ...timeOptions, timeZone: raceTimeZone })}`;
                } else {
                    raceTimeEl.textContent = `TRACK TIME: N/A`;
                }
            }
            updateTimes();
            setInterval(updateTimes, 1000 * 60);

            // --- Race and Qualifying Data ---
            const raceResults = [
                { pos: 1, grid: 2, driver: "MAXFAN 1982", team: "MCLAREN", stops: 1, time: "45:15:184", pts: 25 },
                { pos: 2, grid: 5, driver: "FOCUSER", team: "MCLAREN", stops: 2, time: "+10.026", pts: 18 },
                { pos: 3, grid: 2, driver: "YUKI TSUNODA", team: "RED BULL", stops: 2, time: "+22.388", pts: 15 },
                { pos: 4, grid: 1, driver: "MAXFAN 1982", team: "RED BULL", stops: 2, time: "+24.353", pts: 12 },
                { pos: 5, grid: 4, driver: "ALPHAROMEO127", team: "SCUDERIA FERRARI HP", stops: 1, time: "+26.454", pts: 10 },
                { pos: 6, grid: 2, driver: "SHENGEN", team: "MERCEDES-AMG PETRONAS", stops: 2, time: "+28.709", pts: 8 },
                { pos: 7, grid: 9, driver: "MORA", team: "ASTON MARTIN", stops: 2, time: "+29.581", pts: 6 },
                { pos: 8, grid: 2, driver: "MORA", team: "VISA CASH APP RACING BULLS", stops: 2, time: "+32.937", pts: 4 },
                { pos: 9, grid: 2, driver: "TSAR", team: "VISA CASH APP RACING BULLS", stops: 1, time: "+40.504", pts: 2 },
                { pos: 10, grid: 2, driver: "JSTN NL", team: "SCUDERIA FERRARI HP", stops: 2, time: "+41.860", pts: 1 },
                { pos: 11, grid: 10, driver: "TSAR", team: "ALPINE", stops: 2, time: "+47.038", pts: 0 },
                { pos: 12, grid: 16, driver: "COUNTERFEIT", team: "KICK SAUBER", stops: 1, time: "+54.468", pts: 0 },
                { pos: 13, grid: 2, driver: "SHENGEN", team: "MERCEDES-AMG PETRONAS", stops: 2, time: "+54.789", pts: 0 },
                { pos: 14, grid: 12, driver: "MAX HOUSLEY", team: "HAAS", stops: 2, time: "+1:00.196", pts: 0 },
                { pos: 15, grid: 15, driver: "LUCA STEVENS", team: "ASTON MARTIN", stops: 2, time: "+1 LAP", pts: 0 },
                { pos: 16, grid: 17, driver: "ARUTHLESS GUY", team: "ALPINE", stops: 2, time: "+1 LAP", pts: 0 },
                { pos: 17, grid: 14, driver: "NOJUS GEDVILAS", team: "HAAS", stops: 2, time: "+1 LAP", pts: 0 },
                { pos: 18, grid: 18, driver: "IOLER_XD", team: "WILLIAMS", stops: 2, time: "+1 LAP", pts: 0 },
                { pos: 19, grid: 19, driver: "C324R", team: "KICK SAUBER", stops: 3, time: "DNF", pts: 0 }
            ];

            const qualifyingResults = [
                { pos: 1, driver: "MAXFAN 1982", team: "RED BULL", tyre: "S", best: "1:27.240", gap: "" },
                { pos: 2, driver: "ANTON CHEB...", team: "MCLAREN", tyre: "S", best: "1:27.344", gap: "+0.104" },
                { pos: 3, driver: "FOCUSER", team: "MCLAREN", tyre: "S", best: "1:27.562", gap: "+0.322" },
                { pos: 4, driver: "ALPHAROMEO127", team: "SCUDERIA FERRARI HP", tyre: "S", best: "1:27.723", gap: "+0.483" },
                { pos: 5, driver: "YUKI TSUNODA", team: "RED BULL", tyre: "S", best: "1:27.852", gap: "+0.612" },
                { pos: 6, driver: "SHENGEN", team: "MERCEDES-AMG PETRONAS", tyre: "S", best: "1:27.965", gap: "+0.725" },
                { pos: 7, driver: "MORA T", team: "VISA CASH APP RACING BULLS", tyre: "S", best: "1:27.968", gap: "+0.728" },
                { pos: 8, driver: "JSTN NL", team: "SCUDERIA FERRARI HP", tyre: "S", best: "1:28.118", gap: "+0.878" },
                { pos: 9, driver: "STRA", team: "ASTON MARTIN", tyre: "S", best: "1:28.238", gap: "+0.998" },
                { pos: 10, driver: "ASPEC33", team: "ALPINE", tyre: "S", best: "1:28.412", gap: "+1.172" },
                { pos: 11, driver: "TSAR", team: "VISA CASH APP RACING BULLS", tyre: "S", best: "1:28.475", gap: "+1.235" },
                { pos: 12, driver: "MAX HOUSLEY", team: "HAAS", tyre: "S", best: "1:28.559", gap: "+1.319" },
                { pos: 13, driver: "SEBEINKRO", team: "MERCEDES-AMG PETRONAS", tyre: "S", best: "1:28.623", gap: "+1.383" },
                { pos: 14, driver: "NOJUS GEDVILAS", team: "HAAS", tyre: "S", best: "1:28.766", gap: "+1.526" },
                { pos: 15, driver: "LUCA STEVENS", team: "ASTON MARTIN", tyre: "S", best: "1:29.016", gap: "+1.776" },
                { pos: 16, driver: "COUNTERFEIT", team: "KICK SAUBER", tyre: "S", best: "1:29.103", gap: "+1.863" },
                { pos: 17, driver: "ARUTHLESS GUY", team: "ALPINE", tyre: "S", best: "1:29.200", gap: "+1.960" },
                { pos: 18, driver: "IOLER_XD", team: "WILLIAMS", tyre: "S", best: "1:29.859", gap: "+2.619" },
                { pos: 19, driver: "C3Z4R", team: "KICK SAUBER", tyre: "S", best: "1:31.082", gap: "+3.842" }
            ];

            // Header definitions with mobile visibility classes
            const raceHeaders = [
                { text: 'POS.', col_key: 'pos', class: 'py-3.5 pl-4 pr-3 text-left text-sm font-semibold text-gray-200 sm:pl-6' },
                { text: 'GRID', col_key: 'grid', class: 'px-3 py-3.5 text-left text-sm font-semibold text-gray-200 hidden md:table-cell' },
                { text: 'DRIVER', col_key: 'driver', class: 'px-3 py-3.5 text-left text-sm font-semibold text-gray-200' },
                { text: 'TEAM', col_key: 'team', class: 'px-3 py-3.5 text-left text-sm font-semibold text-gray-200 hidden md:table-cell' },
                { text: 'STOPS', col_key: 'stops', class: 'px-3 py-3.5 text-left text-sm font-semibold text-gray-200 hidden md:table-cell' },
                { text: 'TIME', col_key: 'time', class: 'px-3 py-3.5 text-left text-sm font-semibold text-gray-200 hidden md:table-cell' },
                { text: 'PTS.', col_key: 'pts', class: 'py-3.5 pl-3 pr-4 text-right text-sm font-semibold text-gray-200 sm:pl-6' }
            ];

            const qualifyingHeaders = [
                { text: 'POS.', col_key: 'pos', class: 'py-3.5 pl-4 pr-3 text-left text-sm font-semibold text-gray-200 sm:pl-6' },
                { text: 'DRIVER', col_key: 'driver', class: 'px-3 py-3.5 text-left text-sm font-semibold text-gray-200' },
                { text: 'TEAM', col_key: 'team', class: 'px-3 py-3.5 text-left text-sm font-semibold text-gray-200 hidden md:table-cell' },
                { text: 'TYRE', col_key: 'tyre', class: 'px-3 py-3.5 text-left text-sm font-semibold text-gray-200' }, /* Tyres always visible */
                { text: 'BEST', col_key: 'best', class: 'px-3 py-3.5 text-left text-sm font-semibold text-gray-200 hidden md:table-cell' },
                { text: 'GAP', col_key: 'gap', class: 'py-3.5 pl-3 pr-4 text-right text-sm font-semibold text-gray-200 sm:pl-6' }
            ];

            const toggleSlider = document.getElementById('toggle-slider');
            const raceButton = document.getElementById('race-button');
            const qualifyingButton = document.getElementById('qualifying-button');
            const mainTitle = document.getElementById('main-title'); // Get reference to the main title

            // Function to update the slider position and active button state
            function updateSliderAndActiveButton(activeButton) {
                // Ensure buttons have been rendered and have offset properties
                if (!raceButton.offsetWidth || !qualifyingButton.offsetWidth) {
                    // Re-try after a short delay if elements are not yet laid out
                    setTimeout(() => updateSliderAndActiveButton(activeButton), 50);
                    return;
                }

                if (activeButton === raceButton) {
                    toggleSlider.style.left = `${raceButton.offsetLeft}px`;
                    toggleSlider.style.width = `${raceButton.offsetWidth}px`;
                    raceButton.classList.add('active');
                    qualifyingButton.classList.remove('active');
                } else {
                    toggleSlider.style.left = `${qualifyingButton.offsetLeft}px`;
                    toggleSlider.style.width = `${qualifyingButton.offsetWidth}px`;
                    qualifyingButton.classList.add('active');
                    raceButton.classList.remove('active');
                }
            }

            // Function to render the table dynamically based on type (race or qualifying)
            function renderTable(type) {
                const tableHeadRow = document.querySelector('.race-table thead tr');
                const tableBody = document.querySelector('.race-table tbody');
                tableHeadRow.innerHTML = ''; // Clear existing headers
                tableBody.innerHTML = ''; // Clear existing body

                let currentData = [];
                let currentHeaders = [];

                if (type === 'race') {
                    currentData = raceResults;
                    currentHeaders = raceHeaders;
                    mainTitle.innerHTML = 'BAHRAIN GRAND PRIX - <br class="sm:hidden">RACE RESULT'; // Set title for Race
                } else if (type === 'qualifying') {
                    currentData = qualifyingResults;
                    currentHeaders = qualifyingHeaders;
                    mainTitle.innerHTML = 'BAHRAIN GRAND PRIX - <br class="sm:hidden">QUALIFYING RESULT'; // Set title for Qualifying
                }

                // Render headers
                currentHeaders.forEach(headerDef => {
                    const th = document.createElement('th');
                    th.scope = 'col';
                    th.className = headerDef.class;
                    th.textContent = headerDef.text;
                    tableHeadRow.appendChild(th);
                });

                // Render body rows
                currentData.forEach(rowData => {
                    const tr = document.createElement('tr');
                    tr.className = 'whitespace-nowrap';

                    // Iterate through header definitions to match data to columns
                    currentHeaders.forEach(headerDef => {
                        const td = document.createElement('td');
                        // Use base class and then apply specific styles
                        td.className = headerDef.class.replace('font-semibold text-gray-200', 'text-gray-700'); 

                        if (headerDef.col_key === 'pos') {
                            td.classList.add('pos-number'); // Apply specific color for POS
                        }
                        
                        // Populate cell content based on column key
                        if (rowData[headerDef.col_key] !== undefined) {
                            if (headerDef.col_key === 'tyre' && type === 'qualifying') {
                                td.textContent = rowData[headerDef.col_key];
                                td.style.color = 'red'; // Make 'S' red
                            } else {
                                td.textContent = rowData[headerDef.col_key];
                            }
                        } else {
                            td.textContent = ''; // Handle missing data gracefully
                        }
                        tr.appendChild(td);
                    });
                    tableBody.appendChild(tr);
                });
            }

            // Event Listeners for Toggle Buttons
            raceButton.addEventListener('click', () => {
                updateSliderAndActiveButton(raceButton);
                renderTable('race');
            });

            qualifyingButton.addEventListener('click', () => {
                updateSliderAndActiveButton(qualifyingButton);
                renderTable('qualifying');
            });

            // Initial render and slider position on page load
            renderTable('race');
            updateSliderAndActiveButton(raceButton); // Set initial slider position to Race button
        };
    </script>
</body>
</html>
